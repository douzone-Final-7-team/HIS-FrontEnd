import React from 'react'
import { useSelector } from 'react-redux';
// style
import '../styles/scss/reset.scss';
import '../styles/outpatient.scss';
// components
import EmpBar from '../components/employee/EmpBar';
import PatientDetail from '../components/patient/PatientDetail';
import PatientStatus from '../components/patient/PatientStatus';
import MedicalHistory from '../components/patient/MedicalHistory';
import Order from '../components/outpatient/Order';


const Outpatient = () => {
  // 진료메모 / 치료오더 SELECT 
  const patientDetails = useSelector(state => state.readOutpatientInfo.value[0]);
  // 환자 과거병력 조회 SELECT
  const registrationInfo = useSelector(state => state.readPatientRegistrationInfo.value[1]);

  return (
    <div className='outpatient'>
      <main className='main'>
        <div className='top'>
          <EmpBar />
        </div>
        <div className='middle'>
          <div className='search-info'>
            <div className='input-patient'>
              <div>
                <span>이름</span>
                <span>{patientDetails!=null && patientDetails!==undefined ? patientDetails.PATIENT_NAME:" "}</span>
                <span>주민등록번호</span>
                <span>{patientDetails!=null && patientDetails!==undefined ? patientDetails.PATIENT_SSN:" "}</span>
              </div>
            </div>
          </div>
          <PatientDetail patientDetails={patientDetails}/>
          <MedicalHistory registrationInfo={registrationInfo} />
        </div>
        <PatientStatus className='bottom1'/>
        <Order patientDetails={patientDetails}/>
      </main>
    </div>
  )
}

export default Outpatient;
